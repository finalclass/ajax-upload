{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,SAAS,UAAU,OAUd;wBATH,KAAK;MAAL,KAAK,8BAAG,EAAE;sBACV,GAAG;MAAH,GAAG,4BAAG,EAAE;uBACR,IAAI;MAAJ,IAAI,6BAAG,EAAE;yBACT,MAAM;MAAN,MAAM,+BAAG,MAAM;0BACf,OAAO;MAAP,OAAO,gCAAG;WAAI,SAAS;GAAA;6BACvB,UAAU;MAAV,UAAU,mCAAG;WAAI,SAAS;GAAA;4BAC1B,SAAS;MAAT,SAAS,kCAAG;WAAI,SAAS;GAAA;iCACzB,cAAc;MAAd,cAAc,uCAAG,OAAO;2BACxB,QAAQ;MAAR,QAAQ,iCAAG,IAAI;;AAGf,MAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;AAC/B,MAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;;AAE9B,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AACxC,QAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AACpB,YAAQ,CAAC,MAAM,MAAI,cAAc,QAAG,QAAQ,EAAI,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;GAClE;;AAED,QAAM,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AAC7C,YAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;GAChC,CAAC,CAAC;;AAEH,KAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;AAC5B,MAAI,GAAG,CAAC,MAAM,EAAE;AACd,OAAG,CAAC,MAAM,CAAC,UAAU,GAAG,UAAU,CAAC;GACpC;;AAED,KAAG,CAAC,MAAM,GAAG,YAAY;AACvB,QAAI,GAAG,CAAC,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE;AACzC,eAAS,CAAC,GAAG,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC;KAClE,MAAM;AACL,aAAO,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;KACtC;GACF,CAAC;;AAEF,KAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;CACpB","file":"index.js","sourcesContent":["function ajaxUpload({\n  files = [],\n  url = '',\n  data = {},\n  method = 'POST',\n  onError = ()=>undefined,\n  onProgress = ()=>undefined,\n  onSuccess = ()=>undefined,\n  filesFieldName = 'files',\n  arrayKey = '[]'\n  }) {\n\n  var xhr = new XMLHttpRequest();\n  var formData = new FormData();\n\n  for (let i = 0; i < files.length; i += 1) {\n    let file = files[i];\n    formData.append(`${filesFieldName}${arrayKey}`, file, file.name);\n  }\n\n  Object.keys(data || {}).forEach(function (key) {\n    formData.append(key, data[key])\n  });\n\n  xhr.open(method, url, true);\n  if (xhr.upload) {\n    xhr.upload.onprogress = onProgress;\n  }\n\n  xhr.onload = function () {\n    if (xhr.status >= 200 && xhr.status < 400) {\n      onSuccess(xhr.responseBody || JSON.parse(xhr.responseText), xhr);\n    } else {\n      onError(new Error(xhr.responseBody));\n    }\n  };\n\n  xhr.send(formData);\n}\n"],"sourceRoot":"/source/"}